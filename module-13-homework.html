<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>CMPS 260: Module 13 Homework</title>
<style>* { font-family: monospace; }</style>
<script>
//----------------//
// Big O notation //
//----------------//
console.log("Big O notation");

// 1. What is the worst case complexity of the following function?

function hasDuplicates(arr) {
  for (var i = 0; i < arr.length; i++) {
    for (var j = 0; j < arr.length; j++) {
      if (i !== j && arr[i] === arr[j]) {
        return true;
      }
    }
  }
  return false;
}

// 2. Implement a faster version of the same function and analyze the
//    complexity of this approach.

function hasDuplicatesFast(arr) {
  // todo
    var map = {};
    var resultToReturn = false;

    for (var i = 0; i < arr.length; i++){
        if (map[arr[i]]){
            resultToReturn = true;
            break;
        }
        map[arr[i]] = true;
    }
    if(resultToReturn){
      return true;
    } 
    else {
      return false
    }
}

var testArray = [1, 3, 5, 4, 1];
var secondTest = [1, 3, 4, 8, 9, 7];

console.log("does array have duplicates " + hasDuplicatesFast(testArray));
console.log("does second array have duplicates " + hasDuplicatesFast(secondTest));

//----------------------------//
// Having fun with algorithms //
//----------------------------//
console.log("Having fun with algorithms");

// 1. Solve http://www.spoj.com/problems/PALIN/

//reverse string
function reverseString(str){
  var numStr = str.toString();
  //step 1: split() method return a new array  
  var splitString = numStr.split(""); 
    // example var team = "Pittsburgh".split("");
    //"P","i","t", etc

  //step 2: use reverse() returns a new array
  var reverse = splitString.reverse();
  //Step 3: use join method (joins arrays)
  var joinReverse = reverse.join("");
  //Step 4: return value
  return joinReverse;
}


function findSmallestPalindrome(k) {
  // todo
  //var isTrue = false;
  

  while (true){
    k++;
    var kString = k.toString();
    if(kString === reverseString(kString)){
      return k;
    }
  }
}
// tests
console.log(findSmallestPalindrome(808));
console.log(findSmallestPalindrome(808) === 818);
console.log(findSmallestPalindrome(2133) === 2222);



//---------//
// Project //
//---------//
console.log("Project");

// 1. Solve https://csacademy.com/contest/interview-archive/task/intersecting-rectangles/
//    What is the runtime complexity of your solution?
//    HINT: Try to break down the problems into smaller steps. For example,
//          find a convenient way to represent rectangles and define a function
//          that tests whether one rectangle is inside another. Then test your
//          code on just two rectangles first to make sure it works.

//var n = null;
//const rectangle1 = {x1: 1, y1: 2, x2: 3, y2: 4};
//const rectangle2 = {x1: 1, y1: 2, x2: 3, y2: 4};
function rectangle(rect1, rect1b, rect2, rect2b){
  this.rect1 = rect1;
  this.rect1b = rect1b;
  this.rect2 = rect2;
  this.rect2b = rect2b;
}


rectangle.prototype.intersect = function(rect) {
  var r1 = this;
  var r2 = rect;
  
  if(r1.rect2b < r2.rect1b || r1.rect1b > r2.rect2b || r1.rect2 < r2.rect1 || r1.rect1 > r2.rect2){
    return false;
  }
  else {
    return true;
  }
}

function calcRectangles(rectangles) {
  var cnt = 0;
  for (var i = 0; i < rectangles.length; i++) {
    for (var j = i+1; j < rectangles.length; j++) {
      var r1 = rectangles[i];
      var r2 = rectangles[j];
      if (r1.intersect(r2)) {
        cnt++;
      }
    }
  }
  console.log(cnt);
}

var r1 = new rectangle(1, 1, 7, 10);
var r2 = new rectangle(3, 5, 10, 8);
var rectangles1 = [r1, r2];

 

var r1 = new rectangle(3, 2, 5, 8);
var r2 = new rectangle(7, 3, 10, 10);
var rectangles2 = [r1, r2];

 

var r1 = new rectangle(1, 1, 5, 5);
var r2 = new rectangle(3, 2, 6, 4);
var r3 = new rectangle(4, 8, 8, 10);
var r4 = new rectangle(3, 9, 7, 10);
var rectangles3 = [r1, r2, r3, r4];

 

calcRectangles(rectangles1);
calcRectangles(rectangles2);
calcRectangles(rectangles3);

//console.log(intersect(rectangle1, rectangle2));


</script>
</head>
<body>
  See console!
</body>
</html>
